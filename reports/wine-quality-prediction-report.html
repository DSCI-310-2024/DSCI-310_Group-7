<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rui Xiang Yu, Rico Chan, &amp; Kevin Yu (Group 7)">

<title>Predicting Wine Quality Using Multiple Linear Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="wine-quality-prediction-report_files/libs/clipboard/clipboard.min.js"></script>
<script src="wine-quality-prediction-report_files/libs/quarto-html/quarto.js"></script>
<script src="wine-quality-prediction-report_files/libs/quarto-html/popper.min.js"></script>
<script src="wine-quality-prediction-report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="wine-quality-prediction-report_files/libs/quarto-html/anchor.min.js"></script>
<link href="wine-quality-prediction-report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="wine-quality-prediction-report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="wine-quality-prediction-report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="wine-quality-prediction-report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="wine-quality-prediction-report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#preview-of-data" id="toc-preview-of-data" class="nav-link" data-scroll-target="#preview-of-data">Preview of Data</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  <li><a href="#exploratory-data-analysis-visualization" id="toc-exploratory-data-analysis-visualization" class="nav-link" data-scroll-target="#exploratory-data-analysis-visualization">Exploratory Data Analysis Visualization</a></li>
  <li><a href="#multiple-linear-rgression" id="toc-multiple-linear-rgression" class="nav-link" data-scroll-target="#multiple-linear-rgression">Multiple Linear Rgression</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a>
  <ul class="collapse">
  <li><a href="#summary-and-expectations" id="toc-summary-and-expectations" class="nav-link" data-scroll-target="#summary-and-expectations">Summary and Expectations</a></li>
  <li><a href="#impacts-and-future-questions" id="toc-impacts-and-future-questions" class="nav-link" data-scroll-target="#impacts-and-future-questions">Impacts and Future Questions</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="../wine-quality-prediction-report.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Predicting Wine Quality Using Multiple Linear Regression</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rui Xiang Yu, Rico Chan, &amp; Kevin Yu (Group 7) </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This project analyzes different properties of wine and analyzes which properties affect the quality of wine positively and which properties affect it negatively, in order to predict red wine quality. We applied a multiple linear regression on a public-use dataset to discover how each property affects the quality of wine. Splitting the dataset into a 75/25 training/testing split, and applying a specified recipe for a multivariate regression, we obtained decent RMSPE and MAE values of 0.67 and 0.52 respectively, but a mediocre R-squared value of 0.32. We discover that the fixed acidity, residual sugar, free sulphur dioxide, sulphates, and the alcohol properties tend to increase the wine quality, while the volatile acidity, citric acid, chlorides, total sulphur dioxide, density, and pH properties tend to reduce the wine quality. Future work should be done on selecting significant predictors only.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Wine is entrenched in many cultures and remains a strong industry worldwide <span class="citation" data-cites="Elfman_2019 Wine_in_Moderation">(<a href="#ref-Elfman_2019" role="doc-biblioref">Elfman 2019</a>; <a href="#ref-Wine_in_Moderation" role="doc-biblioref">WineinModeration, n.d.</a>)</span>. Technological innovations have supported the growth of the wine industry, especially in the realm of certification and quality assessment <span class="citation" data-cites="CORTEZ2009547">(<a href="#ref-CORTEZ2009547" role="doc-biblioref">Cortez et al. 2009</a>)</span>. One prominent innovation is the use of laboratory testing to relate the physicochemical properties of wine to human sensory perceptions <span class="citation" data-cites="CORTEZ2009547 10287348">(<a href="#ref-CORTEZ2009547" role="doc-biblioref">Cortez et al. 2009</a>; <a href="#ref-10287348" role="doc-biblioref">Luque et al. 2023</a>)</span>. Examples of physicochemical indicators include pH and and residual sugar. Using data to model complex wine perceptions is a daunting task, but it can benefit wine production by flagging the most important properties to consider and informing price setting <span class="citation" data-cites="CORTEZ2009547">(<a href="#ref-CORTEZ2009547" role="doc-biblioref">Cortez et al. 2009</a>)</span>.</p>
<p>Thus, our key question is: <em>Can we use multiple linear regression and various physicochemical indicators to predict the quality of red wine?</em></p>
<p>To answer whether a full regression model is viable, we use a dataset on red wine quality from the <a href="https://archive.ics.uci.edu/dataset/186/wine+quality">UCI Machine Learning Repository</a>. The dataset comprises of 12 variables (11 physicochemical indicators and 1 quality indicator) and contains 1599 instances of red vinho verde, a popular wine from Portugal. Each instance of wine was assessed by at least three sensory assessors and scored on a ten-point scale that ranges from “very bad” to “excellent”; the wine quality for each instance is determined by the median of these scores <span class="citation" data-cites="CORTEZ2009547">(<a href="#ref-CORTEZ2009547" role="doc-biblioref">Cortez et al. 2009</a>)</span>. The data was collected by the CVRVV, an inter-professional organisation dedicated to the promotion of vinho verde, from May 2004 to February 2007.</p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="preview-of-data" class="level3">
<h3 class="anchored" data-anchor-id="preview-of-data">Preview of Data</h3>
<p>The data was loaded from the UCI Machine Learning Repository. In <a href="#tbl-wine-preview">Table&nbsp;1</a>, we can see a preview of the first six columns of the dataset.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-wine-preview" class="anchored">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table&nbsp;1: Loaded dataset of wine quality.</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">FA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">VA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RS</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F-SO2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">T-SO2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">D</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">pH</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SO2-4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ALC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Quality</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0.998</td>
<td style="text-align: right;">3.51</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">9.4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.6</td>
<td style="text-align: right;">0.098</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">0.997</td>
<td style="text-align: right;">3.20</td>
<td style="text-align: right;">0.68</td>
<td style="text-align: right;">9.8</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">0.092</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">0.997</td>
<td style="text-align: right;">3.26</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">9.8</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">11.2</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">0.075</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">0.998</td>
<td style="text-align: right;">3.16</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: right;">9.8</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0.998</td>
<td style="text-align: right;">3.51</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">9.4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">0.075</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.998</td>
<td style="text-align: right;">3.51</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">9.4</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p>Where FA is Fixed Acidity, VA is Volatile Acidity, CA is Citric Acid, RS is Residual Sugar, C is Chlorides, F-SO2 is Free Sulfur Dioxide, T-SO2 is Total Sulfur Dioxide, D is Density, pH is the potential of Hydrogen, SO2-4 is sulphates, and ALC is the alcohol content.</p>
</section>
<section id="exploratory-data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h3>
<p>The data was split into a training set (75% of the dataset) and a testing set (the remaining 25%). Thus, the training set had 1198 obervations and the testing set had 401 observations. The training set was used to train our model. The testing set was used to validate the results of the created model.</p>
<p>There were also 0 missing values.</p>
<p>The means of the independent variables for every level of the response variable “quality” were explored in <a href="#tbl-wine-means">Table&nbsp;2</a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-wine-means" class="anchored">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table&nbsp;2: Means for each level of the response variable “quality”.</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Quality</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">FA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">VA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CA</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RS</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F-SO2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">T-SO2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">D</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">pH</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SO2-4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ALC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">8.444</td>
<td style="text-align: right;">0.807</td>
<td style="text-align: right;">0.190</td>
<td style="text-align: right;">2.694</td>
<td style="text-align: right;">0.121</td>
<td style="text-align: right;">11.667</td>
<td style="text-align: right;">26.667</td>
<td style="text-align: right;">0.998</td>
<td style="text-align: right;">3.387</td>
<td style="text-align: right;">0.589</td>
<td style="text-align: right;">9.850</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">7.654</td>
<td style="text-align: right;">0.675</td>
<td style="text-align: right;">0.187</td>
<td style="text-align: right;">2.823</td>
<td style="text-align: right;">0.096</td>
<td style="text-align: right;">11.821</td>
<td style="text-align: right;">36.385</td>
<td style="text-align: right;">0.997</td>
<td style="text-align: right;">3.387</td>
<td style="text-align: right;">0.615</td>
<td style="text-align: right;">10.333</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">8.150</td>
<td style="text-align: right;">0.579</td>
<td style="text-align: right;">0.244</td>
<td style="text-align: right;">2.534</td>
<td style="text-align: right;">0.094</td>
<td style="text-align: right;">17.086</td>
<td style="text-align: right;">56.342</td>
<td style="text-align: right;">0.997</td>
<td style="text-align: right;">3.305</td>
<td style="text-align: right;">0.628</td>
<td style="text-align: right;">9.880</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">8.411</td>
<td style="text-align: right;">0.495</td>
<td style="text-align: right;">0.275</td>
<td style="text-align: right;">2.451</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">15.855</td>
<td style="text-align: right;">41.370</td>
<td style="text-align: right;">0.997</td>
<td style="text-align: right;">3.313</td>
<td style="text-align: right;">0.677</td>
<td style="text-align: right;">10.609</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">8.851</td>
<td style="text-align: right;">0.391</td>
<td style="text-align: right;">0.380</td>
<td style="text-align: right;">2.710</td>
<td style="text-align: right;">0.075</td>
<td style="text-align: right;">13.493</td>
<td style="text-align: right;">34.152</td>
<td style="text-align: right;">0.996</td>
<td style="text-align: right;">3.282</td>
<td style="text-align: right;">0.749</td>
<td style="text-align: right;">11.484</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">7.709</td>
<td style="text-align: right;">0.426</td>
<td style="text-align: right;">0.334</td>
<td style="text-align: right;">2.545</td>
<td style="text-align: right;">0.067</td>
<td style="text-align: right;">15.727</td>
<td style="text-align: right;">40.727</td>
<td style="text-align: right;">0.994</td>
<td style="text-align: right;">3.319</td>
<td style="text-align: right;">0.771</td>
<td style="text-align: right;">12.482</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p>Where the columns are defined the same as in <a href="#tbl-wine-preview">Table&nbsp;1</a>.</p>
</section>
<section id="exploratory-data-analysis-visualization" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis-visualization">Exploratory Data Analysis Visualization</h3>
<p>Before we began on the analysis, we wanted to visualize our dataset to get a general understanding of our data and check for valid assumptions and potential issues we have to alleviate later on.</p>
<p>One of the assumptions of MLR is normality. Without normality, it could affect the coefficient estimates obtained and standard errors would be inflated. We checked the distribution of each input variable through a histogram in <a href="#fig-histogram">Figure&nbsp;1</a>.</p>
<div id="fig-histogram" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="../results/wine-histogram.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Histogram of the input variables, color-coded by their respective quality. In the last plot, histogram of each wine quality.</figcaption>
</figure>
</div>
<p>Each of the qualities we analyzed are plotted together in <a href="#fig-histogram">Figure&nbsp;1</a> to get an understanding of several assumptions we are making. For some of them, (such as density, pH, volatile_acidity, etc), a normality assumption is reasonable. For others, (such as citric_acid, total_sulfur_dioxide, etc) it may be a bit harder to assume normality. Each of the different qualities are also coloured in, so the different densities among the quality levels can be visualized.</p>
<p>The very last plot is a visual for the count of how many wines are in each quality level. Unfortunately, there does not appear to be a consistent count for each quality level, rather most of the wines in the dataset have qualities between 5 and 7. This could affect the performance of the model.</p>
<p>Next, we looked at how correlated the variables in the dataset are against each other in <a href="#fig-corr">Figure&nbsp;2</a>.</p>
<div id="fig-corr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="../results/wine-correlation.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Correlation matrix of all variables.</figcaption>
</figure>
</div>
<p><a href="#fig-corr">Figure&nbsp;2</a> suggests that the values all tend to be more independent of each other than some others. For quality, the values that are the most correlated appear to be volatile acidity and the alcohol content. This suggests that those may be the best predictors, and the others may be a bit weaker.</p>
</section>
<section id="multiple-linear-rgression" class="level3">
<h3 class="anchored" data-anchor-id="multiple-linear-rgression">Multiple Linear Rgression</h3>
<p>We specified a linear regression model and then a recipe. In the recipe, we stated “quality” as our response variable, and the other 11 variables as input variables. We then set up the workflow and trained the model using our training set.</p>
<p>In <a href="#tbl-coeffs">Table&nbsp;3</a>, we can see the obtained coefficients from the model:</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-coeffs" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;3: Summary of the coefficients from the linear regression with their respective standard error, statistic, and p-value.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">56.8281842</td>
<td style="text-align: right;">25.0287467</td>
<td style="text-align: right;">2.270517</td>
<td style="text-align: right;">0.0233550</td>
</tr>
<tr class="even">
<td style="text-align: left;">fixed_acidity</td>
<td style="text-align: right;">0.0671384</td>
<td style="text-align: right;">0.0305929</td>
<td style="text-align: right;">2.194577</td>
<td style="text-align: right;">0.0283873</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volatile_acidity</td>
<td style="text-align: right;">-1.0627342</td>
<td style="text-align: right;">0.1420083</td>
<td style="text-align: right;">-7.483607</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">citric_acid</td>
<td style="text-align: right;">-0.3120087</td>
<td style="text-align: right;">0.1681621</td>
<td style="text-align: right;">-1.855404</td>
<td style="text-align: right;">0.0637865</td>
</tr>
<tr class="odd">
<td style="text-align: left;">residual_sugar</td>
<td style="text-align: right;">0.0274220</td>
<td style="text-align: right;">0.0176734</td>
<td style="text-align: right;">1.551591</td>
<td style="text-align: right;">0.1210269</td>
</tr>
<tr class="even">
<td style="text-align: left;">chlorides</td>
<td style="text-align: right;">-1.9337484</td>
<td style="text-align: right;">0.4867008</td>
<td style="text-align: right;">-3.973177</td>
<td style="text-align: right;">0.0000752</td>
</tr>
<tr class="odd">
<td style="text-align: left;">free_sulfur_dioxide</td>
<td style="text-align: right;">0.0026981</td>
<td style="text-align: right;">0.0024772</td>
<td style="text-align: right;">1.089171</td>
<td style="text-align: right;">0.2762999</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_sulfur_dioxide</td>
<td style="text-align: right;">-0.0023257</td>
<td style="text-align: right;">0.0008488</td>
<td style="text-align: right;">-2.740096</td>
<td style="text-align: right;">0.0062343</td>
</tr>
<tr class="odd">
<td style="text-align: left;">density</td>
<td style="text-align: right;">-53.2978193</td>
<td style="text-align: right;">25.5587011</td>
<td style="text-align: right;">-2.085310</td>
<td style="text-align: right;">0.0372546</td>
</tr>
<tr class="even">
<td style="text-align: left;">pH</td>
<td style="text-align: right;">-0.3408037</td>
<td style="text-align: right;">0.2246360</td>
<td style="text-align: right;">-1.517137</td>
<td style="text-align: right;">0.1294985</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sulphates</td>
<td style="text-align: right;">0.8806688</td>
<td style="text-align: right;">0.1279770</td>
<td style="text-align: right;">6.881462</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">alcohol</td>
<td style="text-align: right;">0.2613553</td>
<td style="text-align: right;">0.0309245</td>
<td style="text-align: right;">8.451388</td>
<td style="text-align: right;">0.0000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>From <a href="#tbl-coeffs">Table&nbsp;3</a>, we can see that most of our input variables are statistically significant, as their p-values are &lt; 0.05. However, a couple have p-values that are &gt; 0.05, and thus, are not statistically significant.</p>
<ul>
<li>Significant: fixed acidity, sulphates, alcohol, volatile acidity, chlorides, total sulfur dioxide, and density.</li>
<li>Non-significant: residual sugar, citric acid, free sulfur dioxide, and pH.</li>
</ul>
<p>The full equation of our linear regression model is (rounded to the nearest 3 decimals):</p>
<p>quality = 56.83 + 0.07 x fixed_acidity -1.06 x volatile_acidity -0.31 x citric_acid + 0.03 x residual_sugar -1.93 x chlorides + 0 x free_sulfur_dioxide 0 x total_sulfur_dioxide -53.3 x density -0.34 x pH 0.88 x sulphates + 0.26 x alcohol</p>
<p>We can also determine the correlation between the input variables and the response variable quality:</p>
<ul>
<li>Positively correlated: fixed acidity, residual sugar, free sulfur dioxide, sulphates, and alcohol.</li>
<li>Negatively correlated: volatile acidity, citric acid, chlorides, total sulfur dioxide, density, and pH.</li>
</ul>
<p>The model was tested on the testing set. The metrics from the model are in <a href="#tbl-lm-accuracy">Table&nbsp;4</a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-lm-accuracy" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;4: Estimates of the model’s performance on the testing set.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">.metric</th>
<th style="text-align: left;">.estimator</th>
<th style="text-align: right;">.estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">rmse</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.6683570</td>
</tr>
<tr class="even">
<td style="text-align: left;">rsq</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.3212801</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mae</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.5230570</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Our RMSPE is 0.67 units of quality, which we deem to be a low value. Our mean absolute error is 0.52 units of quality, which we also deem to be a low value. Thus, we believe our model performs relatively well. However, our R^2 is 0.32 which is a low number, indicating that our model does not fit the data as well as hoped.</p>
<p>To assess the validity of our model, we plotted a QQ plot where the theoretical quantiles are plotted against the sample quantiles. This plot shows the normality distribution. A QQ-plot with a straight line would be the ideal one. Our resulting QQ-plot is in <a href="#fig-qq">Figure&nbsp;3</a>.</p>
<div id="fig-qq" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="../results/wine_lm_qq_plot.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Correlation matrix of all variables.</figcaption>
</figure>
</div>
<p>As seen, <a href="#fig-qq">Figure&nbsp;3</a> appears to follow a straight line. There does appear to be a dip from the line near quantiles = 0, and a few outliers (173 and 113), but overall, the normality assumption on our data is reasonable.</p>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<section id="summary-and-expectations" class="level3">
<h3 class="anchored" data-anchor-id="summary-and-expectations">Summary and Expectations</h3>
<p>The purpose of this project was to determine if it was possible to predict red wine quality through a set of 11 physicochemical variables. We applied a multiple linear regression on a public-use dataset to discover how each property affects the quality of wine. Splitting the dataset into a 75/25 training/testing split, and applying a specified recipe for a multivariate regression, we obtained decent RMSPE and MAE values of 0.67 and 0.52 respectively, but a mediocre R-squared value of 0.32.</p>
<p>We discover that the fixed acidity, residual sugar, free sulphur dioxide, sulphates, and the alcohol properties tend to increase the wine quality, while the volatile acidity, citric acid, chlorides, total sulphur dioxide, density, and pH properties tend to reduce the wine quality. Furthermore, only fixed acidity, sulphates, alcohol, volatile acidity, chlorides, total sulfur dioxide, and density were deemed to be significant predictors.</p>
<p>From <a href="#fig-corr">Figure&nbsp;2</a>, it was expected that alcohol and volatile acidity would be significant predictors for quality. And in fact, these variables were statistically significant as their p values was &lt; 0.05. However, the model’s fit performed worse than expected, with a very low R-squared value.</p>
</section>
<section id="impacts-and-future-questions" class="level3">
<h3 class="anchored" data-anchor-id="impacts-and-future-questions">Impacts and Future Questions</h3>
<p>The multivariate regression analysis conducted on the wine quality dataset aimed to uncover the impacts of various factors such as the alcohol content, the acidity, and the amount of sugar on the overall quality of wine. While the accuracy of our model is a bit mediocre at best, it is still a valuable analysis that can uncover proposals of changing winemaking practices and consumer preferences.</p>
<p>Future research should attempt to improve the accuracy of our model, such as incorporating better model selection techniques such as stepwise regression, or to restrict the coefficients through LASSO or Ridge regression. Alternate strategies could be to adapt a non-parametric (i.e.&nbsp;classification) analysis rather than a regression analysis on the data. More data could also be collected to further the amount of predictors and the amount of data there are.</p>
<p>For those who are in the winemaking business, this should propose implications on alternate winemaking techniques to better increase the quality of the wine that is being manufactured, and may ask why some qualities negatively affect the quality of the wine and why others positively affect the quality.</p>
</section>
</section>
<section id="references" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-CORTEZ2009547" class="csl-entry" role="listitem">
Cortez, Paulo, António Cerdeira, Fernando Almeida, Telmo Matos, and José Reis. 2009. <span>“Modeling Wine Preferences by Data Mining from Physicochemical Properties.”</span> <em>Decision Support Systems</em> 47 (4): 547–53. https://doi.org/<a href="https://doi.org/10.1016/j.dss.2009.05.016">https://doi.org/10.1016/j.dss.2009.05.016</a>.
</div>
<div id="ref-Elfman_2019" class="csl-entry" role="listitem">
Elfman, Zachary. 2019. <span>“Libation Frontiers – a Deep Dive into the World Wine Industry: Toptal®.”</span> <em>Toptal Finance Blog</em>. Toptal. <a href="https://www.toptal.com/finance/market-sizing/wine-industry">https://www.toptal.com/finance/market-sizing/wine-industry</a>.
</div>
<div id="ref-10287348" class="csl-entry" role="listitem">
Luque, Amalia, Mirko Mazzoleni, Francisco Zamora-Polo, Antonio Ferramosca, Juan Ramón Lama, and Fabio Previdi. 2023. <span>“Determining the Importance of Physicochemical Properties in the Perceived Quality of Wines.”</span> <em>IEEE Access</em> 11: 115430–49. <a href="https://doi.org/10.1109/ACCESS.2023.3325676">https://doi.org/10.1109/ACCESS.2023.3325676</a>.
</div>
<div id="ref-Wine_in_Moderation" class="csl-entry" role="listitem">
WineinModeration. n.d. <span>“Culture of Wine.”</span> <em>Wine in Moderation</em>. <a href="https://www.wineinmoderation.eu/culture">https://www.wineinmoderation.eu/culture</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>